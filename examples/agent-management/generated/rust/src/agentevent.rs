//! Generated by schem - DO NOT EDIT
//! Schema: AgentEvent v1.0.0

use serde::{Deserialize, Serialize};

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum AgentEventKind {
    Started,
    Progress,
    Output,
    Completed,
    Failed,
    Blocked,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct AgentEventError {
    #[serde(skip_serializing_if = "Option::is_none")]
    pub message: Option<String>,
    #[serde(skip_serializing_if = "Option::is_none")]
    pub code: Option<String>,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct AgentEventPr {
    #[serde(skip_serializing_if = "Option::is_none")]
    pub url: Option<String>,
    #[serde(skip_serializing_if = "Option::is_none")]
    pub number: Option<i64>,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct AgentEvent {
    /// Session identifier
    #[serde(rename = "sessionId")]
    pub session_id: String,
    /// Agent name that emitted this event
    pub agent: String,
    /// Event type
    pub kind: AgentEventKind,
    /// Human-readable progress message
    #[serde(skip_serializing_if = "Option::is_none")]
    pub message: Option<String>,
    /// Final result summary (for completed)
    #[serde(skip_serializing_if = "Option::is_none")]
    pub result: Option<String>,
    /// Error details (for failed)
    #[serde(skip_serializing_if = "Option::is_none")]
    pub error: Option<AgentEventError>,
    /// PR info if created (for completed)
    #[serde(skip_serializing_if = "Option::is_none")]
    pub pr: Option<AgentEventPr>,
    /// Cost incurred so far
    #[serde(rename = "costUsd")]
    #[serde(skip_serializing_if = "Option::is_none")]
    pub cost_usd: Option<f64>,
    pub timestamp: String,
}
