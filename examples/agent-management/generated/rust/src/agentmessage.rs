//! Generated by schem - DO NOT EDIT
//! Schema: AgentMessage v1.0.0

use serde::{Deserialize, Serialize};

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum AgentMessageKind {
    Prompt,
    Resume,
    Cancel,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct AgentMessageOptions {
    /// Max spend for this session
    #[serde(rename = "budgetUsd")]
    #[serde(skip_serializing_if = "Option::is_none")]
    pub budget_usd: Option<f64>,
    /// Session timeout
    #[serde(rename = "timeoutSeconds")]
    #[serde(skip_serializing_if = "Option::is_none")]
    pub timeout_seconds: Option<i64>,
    /// Auto-create PR on completion
    #[serde(rename = "autoPr")]
    #[serde(skip_serializing_if = "Option::is_none")]
    pub auto_pr: Option<bool>,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct AgentMessage {
    /// Session identifier for tracking
    #[serde(rename = "sessionId")]
    pub session_id: String,
    /// Target agent name
    pub agent: String,
    /// Message type
    pub kind: AgentMessageKind,
    /// The prompt/instruction to send (for prompt/resume)
    #[serde(skip_serializing_if = "Option::is_none")]
    pub prompt: Option<String>,
    #[serde(skip_serializing_if = "Option::is_none")]
    pub options: Option<AgentMessageOptions>,
}
