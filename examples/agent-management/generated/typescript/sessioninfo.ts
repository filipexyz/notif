/**
 * Generated by schem - DO NOT EDIT
 * Schema: SessionInfo v1.0.0
 */

export interface SessionInfo {
  /** Claude Code session identifier */
  sessionId: string;
  /** Current working directory of the session */
  cwd?: string;
  /** Number of pending permission requests in this session's queue */
  queueCount: number;
}

export const SessionInfoSchema = {
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "sessioninfo.schema.json",
  "title": "SessionInfo",
  "type": "object",
  "properties": {
    "sessionId": {
      "type": "string",
      "description": "Claude Code session identifier"
    },
    "cwd": {
      "type": "string",
      "description": "Current working directory of the session"
    },
    "queueCount": {
      "type": "integer",
      "description": "Number of pending permission requests in this session's queue",
      "minimum": 0
    }
  },
  "required": [
    "sessionId",
    "queueCount"
  ],
  "description": "Session information for the UI"
} as const;

/**
 * Validate data against the SessionInfo schema
 * @throws Error if validation fails
 */
export function validateSessionInfo(data: unknown): SessionInfo {
  if (typeof data !== 'object' || data === null) {
    throw new Error('Expected an object');
  }

  const obj = data as Record<string, unknown>;

  if (obj['sessionId'] === undefined) {
    throw new Error('Missing required field: sessionId');
  }
  if (obj['queueCount'] === undefined) {
    throw new Error('Missing required field: queueCount');
  }

  return data as SessionInfo;
}
